<!DOCTYPE html>
<html>
<head>
<title> Ajax and Json | Tutorial</title>
<style>
	body{
		font-family: sans-serif;
	}
		.ajax-container{
		width: 50%;
		margin: 50px auto;
	}
	#btnAjaxCall{
		height: 50px;
		width: 120px;
		border: none;
		border-radius: 6px;
		color: white;
		background: #3498db;
		outline: none;
		font-size: 22px;
		opacity: 0.7;
		padding: 10px;
	}
	#btnAjaxCall:hover{
		cursor: pointer;
		opacity: 1;
	}
	.item-details{
		margin-top: 10px;
		border: 1px solid #ddd;
		padding: 6px;
	}
</style>
	
</head>

<body>
	<div class="ajax-container">
		<input type="button" id="btnAjaxCall" value="Ajax Call" />
		
		<div class="display-data">
			
		</div>
	</div>
</body>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"
			  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
			  crossorigin="anonymous"></script>
			  
<script>
	var count = 0;
	
	$("#btnAjaxCall").click(function(){
		fetchDataAndDisplay();
	});
	
	function fetchDataAndDisplay(){
		$.ajax({
			url:"QueryEmployeeBasicInfo",
			method:"GET"
		}).done(function(data){
	//		var start = count > 0 ? 5 * count : count;
	//		var end = start + 5;
			var str = '';
			for(var i=1; i<7; i++){
				str += '<div class="employee_details">' + 
						'Employee Id is = ' + data[i].emp_id + '<br />' +
						'Employee Name = ' + data[i].emp_alpha_name + '<br />' +
						'Legal Entity = ' + data[i].legal_entity + '<br /> <br />' +
						'</div>';
			}
			
	//		if(start == data.length){
	//			count = 0;
	//			$(".display-data").empty();
	//			$(".display-data").append("List Traversed. Start over!");
	//			return;
	//		}
			
			count++;
			$(".display-data").empty();
			$(".display-data").append(str);
		})
		.fail(function() {
    alert( "error" );
  })
	}

</script>

</html>